# https://solace.com/products/event-broker/software/getting-started/

services:
  pub-sub:
    image: solace/solace-pubsub-standard:latest
    container_name: solace-standard
    ports:
      # configuring the message
      - '8081:8080'
      # APIs to connect to the message broker
      - '55554:55555'
      - '8008:8008'
      - '1883:1883'
      - '8000:8000'
      - '5672:5672'
      - '9000:9000'
      - '2222:2222'
    shm_size: '2g'
    environment:
      - username_admin_globalaccesslevel=admin
      - username_admin_password=admin
      - SOLACE_MGMT_USERNAME=admin
      - SOLACE_MGMT_PASSWORD=admin
      - SOLACE_ENABLE_CLI=true

  database:
    image: postgres:latest
    container_name: postgres
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: aiot
    ports:
      - '5434:5432'
